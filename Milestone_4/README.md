#### STILL TO DO:
In the issue where the feedback was posted, you should :
* Close the issue once items are appropriately addressed
**_Delete this when finished_**

**STAT547 Milestone 4 Repo Changes made from Milestone 3 based on feedback:**
* EDA_script.R was split into EDA_images_script.R and EDA_LM_script.R for images and linear regression (Feedback [here](https://github.com/STAT547-UBC-2019-20/group_06/issues/52))
* make all creates final_report outputs in docs folder (Feedback [here](https://github.com/STAT547-UBC-2019-20/group_06/issues/52))
* Warnings of scripts were suppressed (Feedback [here](https://github.com/STAT547-UBC-2019-20/group_06/issues/36))
* Scripts have proper documentation based on [roxygen2](https://cran.r-project.org/web/packages/roxygen2/vignettes/roxygen2.html) style (Feedback 5 [here](https://github.com/STAT547-UBC-2019-20/group_06/issues/35))
* unit tests were added to scripts (_To Do if we have time_) (Feedback [here](https://github.com/STAT547-UBC-2019-20/group_06/issues/37))
* Added the tag release of each milestone to the main repo README (Feedback 1 [here](https://github.com/STAT547-UBC-2019-20/group_06/issues/35#issue-580158154))

* in EDA_images_script.R, create a function for each plot that is then called on by main() (Feedback [here](https://github.com/STAT547-UBC-2019-20/group_06/issues/35)) (_To Do if we have time_)
* Changes to analyses were done for more informative results (not based on feedback)


**Usage**
==================
## Instructions for reproducing this analysis using individual scripts

1. Clone this repo.

2. Ensure the following packages are installed:

  - ggplot2
  - tidyverse
  - glue
  - docopt
  - broom
  - tibble
  - purrr
  - dash


3.Type the following commands (in order):

**In the Milestone_4 folder as working directory**

 **Download data with load_data.R** \
 ` Rscript scripts/load_data.R --URL="https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data" --filepath="data/adult_data.csv"`
  
  **Wrangle/clean/process the data with process_data.R** \
  `Rscript scripts/process_data.R --raw_data="data/adult_data.csv" --processed="adult_data_clean.csv"`
  
  **EDA script to export images with EDA_images_script.R** \
 `Rscript scripts/EDA_images_script.R --image_path="images/"` 
  
  **EDA script to export images with EDA_LM_script.R** \
  `Rscript scripts/EDA_LM_script.R --RDS_path="data/"`
  
  **Knit the .Rmd final report into pdf and html documents** \
  `Rscript scripts/knit_final_report.R --final_report="docs/final_report.Rmd"`
  
  
## Instructions for reproducing this analysis using GNU MAKE
1. Go to the terminal, cd to Milestone_4 
2. Type the following for the desired outcomes: 

a.`make clean` removes all files generated by the scripts.\
 _Note: To run `make all` , all folders need to be cleaned with `make clean` first_

b. `make all` runs through all the scripts from loading the raw data to knitting the final report to a html and pdf documents. 

## Instructions for launching the dashboard
1. In Milestone_4 in your terminal: \
`Rscript app.R`

2. Copy the numbers after "fire started at" and paste into address bar


**Dashboard Proposal**
==================
## Description
This dashboard will allow the user to graphically explore the effects of several factors (e.g. age, relationship or role in the family, education level, and race) on the number of work hours each week by selecting the appropriate option in the dropdown menu. 

Selecting a categorical variable (race, relationship or education level) will display two plots, a box plot and a density plot, with groups of that variable on the x-axis and hours worked per week on the y-axis. A "Separate by sex" checkbox will determine if the user wants to display the information separated by sex, side-by-side on the plot. The sexes will be colour coded (blue for males and red for females). A slider is included to filter the data displayed to the audience's preferred age range. 

In contrast to the categorical variables, selecting age from the dropdown menu will instead produce a line graph, with age on the x-axis and hours worked per week on they-axis. Selecting "Separate by sex" will produce two trend lines, one for women (red) and one for men (blue). The age slider will also be included to filter the data to the user's preferred age range, which will dynamically change the x-axis to that range. 

## Usage Scenario

Mary is in the human resources department of her company. She and her team were asked to [understand] the factors that influence employee productivity to hopefully [maximize] the productivity of their company. She wants to [explore] the dataset to accomplish this goal. She 

An example usage scenario with tasks (tasks are indicated in brackets, i.e. [task])

Mary is a policy maker with the Canadian Ministry of Health and she wants to understand what factors lead to missed appointments in order to devise an intervention that improves attendance numbers. She wants to be able to [explore] a dataset in order to [compare] the effect of different variables on absenteeism and [identify] the most relevant variables around which to frame her intervention policy. When Mary logs on to the “Missed Appointments app”, she will see an overview of all the available variables in her dataset, according to the number of people that did or did not show up to their medical appointment. She can filter out variables for head-to-head comparisons, and/or rank order patients according to their predicted probability of missing an appointment. When she does so, Mary may notice that “physical disability” appears to be a strong predictor missing appointments, and in fact patients with a physical disability also have the largest number of missed appointments. She hypothesizes that patients with a physical disability could be having a hard time finding transportation to their appointments, and decides she needs to conduct a follow-on study since transportation information is not captured in her current dataset.

Note that in the above example, “physical disability” being an important variable is fictional - you don’t need to conduct an analysis of your data to figure out what is important or not, you just need to imagine what someone could find, and how they may use this information.

## Example sketch


![Dashboard Design](https://github.com/STAT547-UBC-2019-20/group_06/blob/master/Milestone_4/Dashboard.jpg?raw=true)
